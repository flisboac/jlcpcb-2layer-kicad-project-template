project_name:
  type: str
  help: What is your repository's name?

project_layout:
  type: str
  help: How do you want your project to be laid out?
  choices:
    - single
    - multi

main_kicad_project_name:
  type: str
  help: What is the name of your KiCAD project?
  default: "{{ project_name }}"
  when: "{{ project_layout == 'multi' }}"

mixlib_kicad_clone_url:
  type: str
  help: Clone URL for mixlib-kicad (an external KiCAD library)
  default: git@github.com:flisboac/mixlib-kicad.git
  choices:
    - git@github.com:flisboac/mixlib-kicad.git
    - https://github.com/flisboac/mixlib-kicad.git

_tasks:
  - command: ["git", "submodule", "add", "{{ mixlib_kicad_clone_url }}", "ext/kicad/lib/mixlib-kicad"]
    when: "{{ _copier_operation == 'copy' }}"
    working_directory: "{{ _copier_conf.dst_path }}"
